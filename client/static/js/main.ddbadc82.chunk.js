(this["webpackJsonprosalyn-web-client"]=this["webpackJsonprosalyn-web-client"]||[]).push([[0],{282:function(e,t,a){e.exports=a(499)},288:function(e,t,a){},289:function(e,t,a){},431:function(e,t,a){},439:function(e,t,a){},496:function(e,t,a){},499:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l);a(287),a(288),a(289),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(31),i=a(63),u=a(39),s=r.a.createContext(),m=a(124),d=a.n(m),f=function(e,t){var a=t.join("/");return"".concat(e,"/").concat(a)},E=function(e,t){var a=Object(n.useState)(!1),r=Object(o.a)(a,2),l=r[0],c=(r[1],Object(n.useState)(null)),i=Object(o.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)(null),E=Object(o.a)(m,2),b=E[0],p=E[1];return[function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.body,r=a.query,l=a.params,c=a.token;return"get"===e.toLowerCase()?d.a.get(l?f(t,l):t).set("x-auth",c||"").query(r||{}).then((function(e){return s(e),e})).catch(p):d.a[e.toLowerCase()](t).set("x-auth",c||"").send(n||{}).then(s).catch(p)},{loading:l,res:u,err:b}]},b=a(280),p=a(250),y=a(249),g=a(505),h=a(504),v=a(510),O=a(130),j=a(46),k=a(513),w={labelCol:{span:2},wrapperCol:{span:16}},S={wrapperCol:{offset:2,span:16}},I=function(e){var t,a=e.register,l=E("POST",a?"/register":"/login"),c=Object(o.a)(l,2),i=c[0],u=c[1],m=u.loading,d=u.res,f=u.err,b=Object(n.useContext)(s).setUser;return Object(n.useEffect)((function(){var e;(null===d||void 0===d||null===(e=d.body)||void 0===e?void 0:e.token)&&(localStorage.setItem("token",d.body.token),b(d.body))}),[d]),r.a.createElement(p.a,{spinning:m},r.a.createElement(h.a,Object.assign({},w,{name:"login",initialValues:{remember:!0},onFinish:function(e){var t=e.email,a=e.password,n=e.username;m||i({body:{email:t,password:a,username:n}})}}),r.a.createElement(h.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(v.a.Password,null)),a?r.a.createElement(h.a.Item,{label:"Username",name:"username"},r.a.createElement(v.a,null)):r.a.createElement(h.a.Item,Object.assign({name:"remember",valuePropName:"checked"},S),r.a.createElement(O.a,null,"Remember me")),r.a.createElement(h.a.Item,S,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Submit"))),f?r.a.createElement(k.a,{message:"Failed",description:JSON.stringify(null===(t=f.response)||void 0===t?void 0:t.text),type:"error"}):"")},C=g.a.TabPane,x=function(){return r.a.createElement(g.a,{defaultActiveKey:"1"},r.a.createElement(C,{tab:"Login",key:"1"},r.a.createElement(I,null)),r.a.createElement(C,{tab:"Register",key:"2"},r.a.createElement(I,{register:!0})))},P=["Guest","User","Uploader","Moderator","Admin"],T=function(e){var t=e.children,a=e.rank,l=void 0===a?"User":a,c=e.exceptions,o=void 0===c?[]:c,i=Object(n.useContext)(s).user,m=Object(u.g)();return i?function(e,t){return P.indexOf(e.rank)>=P.indexOf(t)}(i,l)?t:r.a.createElement(k.a,{message:"Unauthorized",description:"Viewing this page requires a ".concat(l," or higher rank."),type:"error"}):function(e,t){var a,n=Object(y.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(t.indexOf(r)>-1)return!0}}catch(l){n.e(l)}finally{n.f()}return!1}(m.pathname.split("/"),o)?t:r.a.createElement(x,null)},N=a(502),_=a(69),A=a(509),F=a(75),R=a(161),L=a(501),M=a(508),U=a(503),B=a(256),z=a.n(B),H=a(514),W=a(515),q=a(516),D=a(517),G=a(110),K=a.n(G),V=a(257),J=a.n(V),Y=a(67),$=a.n(Y),Q=r.a.createContext(),X=function(e){var t=localStorage.getItem("token"),a=e.title,n=e.artist,r=e.duration,l=e.picture,c=e._id,o=e.album;e.musicSrc;return{name:a,singer:n,duration:r,cover:l[0]?"data:".concat(l[0].format,";base64,").concat(l[0].data):$.a,musicSrc:"/music/download/".concat(t,"/").concat(c),album:o,_id:c}};J()(K.a);var Z=function(){var e=Object(n.useContext)(Q),t=e.playlist,a=e.setPlaylist,l=(e.setPlaylistRaw,e.player),c=Object(n.useState)([]),i=Object(o.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),f=d[0],p=d[1],y=Object(n.useState)(""),g=Object(o.a)(y,2),h=g[0],O=g[1],k=E("GET","/music/all"),w=Object(o.a)(k,2),S=w[0],I=w[1],C=I.loading,x=I.res,P=I.err,T=Object(n.useState)(null===x||void 0===x?void 0:x.body),N=Object(o.a)(T,2),_=N[0],A=N[1];Object(n.useEffect)((function(){var e=localStorage.getItem("token");S({token:e})}),[]),Object(n.useEffect)((function(){x&&A(x.body),P&&(console.log(P),b.b.error("Failed to load music."))}),[x,P]);var B={selectedRowKeys:u,onChange:function(e){s(e)}},G=(u.length,""),V=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,n=t.selectedKeys,l=t.confirm,c=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(v.a,{ref:function(e){G=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return J(n,l,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(L.a,null,r.a.createElement(j.a,{type:"primary",onClick:function(){return J(n,l,e)},icon:r.a.createElement(H.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(j.a,{onClick:function(){return Y(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(H.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return G.select()}))},render:function(t){return h===e?r.a.createElement(z.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[f],autoEscapemode:!0,textToHighlight:t.toString()}):t}}},J=function(e,t,a){t(),p(e[0]),O(a)},Y=function(e){e(),p("")},Z=[{dataIndex:"picture",key:"picture",render:function(e){return r.a.createElement(M.a,{src:e.length?"data:".concat(e[0].format,";base64,").concat(e[0].data):$.a})}},Object(F.a)({title:"Title",dataIndex:"title",key:"title",sorter:!0},V("title")),Object(F.a)({title:"Artist",dataIndex:"artist",key:"artist",sorter:!0},V("artist"),{responsive:["md","lg"]}),Object(F.a)({title:"Album",dataIndex:"album",key:"album",sorter:!0},V("album"),{responsive:["lg"]}),{title:"Duration",dataIndex:"duration",key:"duration",render:function(e){return K.a.duration(e,"seconds").format("mm:ss")},responsive:["md","lg"]},{key:"add_to_playlist",render:function(){return r.a.createElement(W.a,null)},onCell:function(e){return{onClick:function(){t.length?l.appendAudio(t.length,[X(e)]):a([e])}}}},{key:"favor",render:function(){return r.a.createElement(q.a,null)}},{key:"download",render:function(){return r.a.createElement(D.a,null)},responsive:["md","lg"]}];return _?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{rowSelection:B,columns:Z,dataSource:_.map((function(e){return Object(F.a)({},e,{key:e._id})})),onRow:function(e,t){},onChange:function(e,t,a){var n=a.field,r=a.order;A((function(e){if(!r)return null===x||void 0===x?void 0:x.body;var t=Object(R.a)(e);return t.sort((function(e,t){return"ascend"===r?String(e[n]).localeCompare(String(t[n])):String(t[n]).localeCompare(String(e[n]))})),t}))},loading:C,size:"small"})):""},ee=a(511),te=N.a.Content,ae=function(){return r.a.createElement("section",null,r.a.createElement(ee.a,{style:{margin:"16px 0"}},r.a.createElement(ee.a.Item,null,"Library")),r.a.createElement(N.a,{className:"site-layout-background"},r.a.createElement(te,{style:{minHeight:280}},r.a.createElement(Z,null))))},ne=(a(431),a(77)),re=a(506),le=a(518),ce=a(519),oe=a(520),ie=a(160),ue=a.n(ie),se=re.a.Title,me=function(e){var t=e.audioInfo,a=t.title,l=t.artist,c=t.album,i=t.picture,u=t._id,s=E("POST","/music/share"),m=Object(o.a)(s,2),d=m[0],f=m[1],p=(f.loading,f.res),y=f.err;return Object(n.useEffect)((function(){var e;p&&(ue()("".concat(window.location.origin,"/share/").concat(null===(e=p.body)||void 0===e?void 0:e.shareId)),b.b.success("Link copied to copyboard"));y&&b.b.error("Failed to generate share link.")}),[p,y]),r.a.createElement("article",{className:"single-music"},r.a.createElement("div",{className:"music-icon"},r.a.createElement("img",{className:"music-icon-image",alt:"cover",src:i})),r.a.createElement("div",{className:"music-info"},r.a.createElement("div",{className:"music-info-group"},r.a.createElement(se,null,a),r.a.createElement("p",{className:"font-150"},l),r.a.createElement("p",null,c)),r.a.createElement("div",{className:"music-favor"},r.a.createElement("div",null,r.a.createElement(q.a,null)),r.a.createElement("div",null,r.a.createElement(le.a,null)),r.a.createElement("div",null,r.a.createElement(ce.a,null)),r.a.createElement("div",{onClick:function(){var e=localStorage.getItem("token");d({body:{musicId:u},token:e})}},r.a.createElement(oe.a,null)))))},de=(N.a.Header,N.a.Content),fe=(N.a.Footer,function(e){var t=e.radio,a=e.share,l=E("GET","/music/sample"),c=Object(o.a)(l,2),i=c[0],s=c[1],m=s.loading,f=s.res,y=s.err,g=Object(n.useContext)(Q),h=(g.playlist,g.setPlaylist),v=g.setPlaylistRaw,O=g.audioInfo,k=g.setAudioInfo,w=g.player,S=Object(u.g)();return Object(n.useEffect)((function(){if(t){var e=localStorage.getItem("token");w.clear(),i({params:[20],token:e}).then((function(){w.updatePlayIndex(0),w.load()}))}}),[t]),Object(n.useEffect)((function(){if(a&&w){var e=S.pathname.split("/"),t=e[e.length-1];d.a.get("/music/share/".concat(t)).then((function(e){var a=e.body,n=a.title,r=a.artist,l=a.duration,c=a.picture,o=a._id,i=a.album;v([{name:n,singer:r,duration:l,cover:c[0]?"data:".concat(c[0].format,";base64,").concat(c[0].data):$.a,musicSrc:"/music/shared_file/".concat(t),album:i,_id:o}])})).catch((function(e){console.log(e),b.b.error("Failed to load music.")}))}}),[a,w]),Object(n.useEffect)((function(){if(f){var e=Object(R.a)(f.body);e.sort((function(){return Math.random()-.5})),h(e),k(Object(F.a)({},e[0],{picture:e[0].picture[0]?"data:".concat(e[0].picture[0].format,";base64,").concat(e[0].picture[0].data):$.a}))}y&&b.b.error("Failed to get playlist")}),[f,y]),r.a.createElement("section",null,r.a.createElement("div",{className:"desktop-only"},r.a.createElement(ee.a,{style:{margin:"16px 0"}},r.a.createElement(ee.a.Item,null,"Radio"))),r.a.createElement(p.a,{spinning:m},r.a.createElement(N.a,{className:"site-layout-background"},r.a.createElement(de,{style:{minHeight:280}},O?r.a.createElement(me,{audioInfo:O}):r.a.createElement(ne.a,{description:r.a.createElement("span",null,"Nothing is playing")},r.a.createElement(j.a,{type:"primary",onClick:function(){var e=localStorage.getItem("token");w.clear(),i({params:[20],token:e}).then((function(){w.updatePlayIndex(0),w.load()}))}},"Open Radio"))))))}),Ee=(a(439),{labelCol:{span:2},wrapperCol:{span:16}}),be={wrapperCol:{offset:2,span:16}},pe=function(){var e=E("POST","/library/add"),t=Object(o.a)(e,2),a=t[0],l=t[1],c=l.loading,i=l.res,u=l.err;return Object(n.useEffect)((function(){i&&b.b.success("Successfully added a repository"),u&&b.b.error("Failed to add this repostory.")}),[i,u]),r.a.createElement(p.a,{spinning:c},r.a.createElement(h.a,Object.assign({},Ee,{name:"add_dir",onFinish:function(e){var t=e.path,n=e.rec,r=e.name,l=e.description,c=localStorage.getItem("token");a({body:{path:t,rec:n,name:r,description:l},token:c})}}),r.a.createElement(h.a.Item,{label:"Path",name:"path",rules:[{required:!0,message:"Please input your email!"}],help:"Absolute path of the repository that contains music files on your SERVER."},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,Object.assign({name:"rec",valuePropName:"checked"},be),r.a.createElement(O.a,null,"including children repos")),r.a.createElement(h.a.Item,{label:"Name",name:"name"},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"Description",name:"description"},r.a.createElement(v.a.TextArea,{rows:10})),r.a.createElement(h.a.Item,be,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Add Library"))))},ye=a(507),ge=localStorage.getItem("token"),he=function(e,t){return[{title:"Path",dataIndex:"path",key:"path"},{title:"Name",dataIndex:"name",key:"name"},{title:"Rec",dataIndex:"rec",key:"rec",render:function(e){return r.a.createElement(O.a,{checked:e,disabled:!0})}},{title:"Count",dataIndex:"count",key:"count"},{title:"Last Modified",dataIndex:"lastModified",key:"lastModified",render:function(e){return K()(e).format("lll")}},{title:"Actions",dataIndex:"actions",key:"actions",render:function(a,n,l){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{type:"primary",onClick:function(){e({body:{path:n.path},token:ge})}},"Update"),r.a.createElement(j.a,{danger:!0,onClick:function(){t(n._id)}},"Remove"))}}]},ve=function(){var e=E("GET","/library/all"),t=Object(o.a)(e,2),a=t[0],l=t[1].res,c=E("POST","/library/add"),i=Object(o.a)(c,2),u=i[0],s=i[1],m=E("DELETE","/library/remove"),d=Object(o.a)(m,2),f=d[0],y=d[1],g=Object(n.useState)(!1),h=Object(o.a)(g,2),v=h[0],O=h[1];return console.log(l),Object(n.useEffect)((function(){var e=localStorage.getItem("token");a({token:e})}),[]),Object(n.useEffect)((function(){s.res&&b.b.success("Successfully updated your library."),y.res&&b.b.success("Successfully removed your library."),s.err&&b.b.error("Failed to update your library."),y.err&&b.b.error("Failed to remove your library.")}),[s,y]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{spinning:(null===s||void 0===s?void 0:s.loading)||(null===y||void 0===y?void 0:y.loading)},r.a.createElement(U.a,{columns:he(u,O),dataSource:null===l||void 0===l?void 0:l.body.map((function(e){return Object(F.a)({},e,{key:e._id})}))})),r.a.createElement(ye.a,{title:"confirm",visible:v,onCancel:function(){O(!1)},confirmLoading:y.loading,onOk:function(){f({body:{libraryId:v},token:ge})},okButtonProps:{danger:!0}},r.a.createElement("p",null,"This operation is irreversable and is going to remove all music added with this repo.")))},Oe=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Library Repositories Management"),r.a.createElement(pe,null),r.a.createElement(ve,null))},je=function(){return r.a.createElement(i.a,null,r.a.createElement(u.a,{exact:!0,path:"/admin/library"},r.a.createElement(Oe,null)))},ke=a(45),we=a(276),Se=(a(440),function(e){var t,a=e.music,n=e.onTrackChange,l=e.getPlayer,c=e.onAudioPlay,o=Object(u.f)();return r.a.createElement(we.a,(t={glassBg:!0,showMediaSession:!0,audioLists:a,autoPlay:!1,mode:window.innerWidth<720?"mini":"full"},Object(ke.a)(t,"mode","full"),Object(ke.a)(t,"showReload",!1),Object(ke.a)(t,"showLyric",!0),Object(ke.a)(t,"showDownload",!1),Object(ke.a)(t,"spaceBar",!0),Object(ke.a)(t,"showThemeSwitch",!1),Object(ke.a)(t,"defaultPosition",{bottom:20,right:10}),Object(ke.a)(t,"onAudioPlayTrackChange",n||function(){}),Object(ke.a)(t,"onAudioError",(function(e){b.b.error("audio error"),console.log(e)})),Object(ke.a)(t,"getAudioInstance",l),Object(ke.a)(t,"onAudioPlay",c),Object(ke.a)(t,"onCoverClick",(function(){o.push("/player")})),Object(ke.a)(t,"onAudioListsChange",(function(e,t,a){console.log(t),console.log(a)})),t))}),Ie=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"This is a preview version of Rosalyn WebClient."),r.a.createElement("p",null,"In short,"),r.a.createElement("h1",null,"What works :"),r.a.createElement("dl",null,r.a.createElement("dd",null,"User system"),r.a.createElement("dd",null,"Basic music player"),r.a.createElement("dd",null,"Radio (random play)")),r.a.createElement("h1",null,"What doesn't work yet:"),r.a.createElement("dl",null,r.a.createElement("dd",null,"Memorized playlist"),r.a.createElement("dd",null,"Favor and playlist"),r.a.createElement("dd",null,"Comment"),r.a.createElement("dd",null,"Preference"),r.a.createElement("dd",null,"Upload your own music"),r.a.createElement("dd",null,"etc.")),r.a.createElement("p",null,"You may also encounter random bugs, please report them to me if you feel like doing it."),r.a.createElement("p",null,"You know how to contact me."),r.a.createElement("p",null,"There is a ghost bug when adding new songs to playlist, while url is correct, il does not load the audio file."),r.a.createElement(j.a,{type:"primary",onClick:function(){localStorage.setItem("welcomed","a")}},"Understandable"))},Ce=a(521),xe=(a(496),function(){var e=Object(u.f)();return r.a.createElement("div",null,r.a.createElement("h1",null,"Shortcuts"),r.a.createElement("div",{className:"shortcuts"},r.a.createElement("div",{className:"shortcut-group",onClick:function(){e.push("/radio")}},r.a.createElement(M.a,{size:100,icon:r.a.createElement(Ce.a,null)}),r.a.createElement("p",null,"Radio"))),r.a.createElement("h1",null,"My favorates"),r.a.createElement(ne.a,null))}),Pe=function(e){var t=localStorage.getItem("token");return e.map((function(e){var a=e.title,n=e.artist,r=e.duration,l=e.picture,c=e._id,o=e.album;e.musicSrc;return{name:a,singer:n,duration:r,cover:l[0]?"data:".concat(l[0].format,";base64,").concat(l[0].data):$.a,musicSrc:"/music/download/".concat(t,"/").concat(c),album:o,_id:c}}))},Te=N.a.Header,Ne=N.a.Content,_e=N.a.Footer,Ae=function(){var e=Object(u.f)(),t=Object(u.g)(),a=(localStorage.getItem("playlist"),Object(n.useState)([])),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(null),m=Object(o.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)(null),b=Object(o.a)(E,2),p=b[0],y=b[1],g=Object(n.useState)(!1),h=Object(o.a)(g,2),v=h[0],O=h[1];Object(n.useEffect)((function(){if(t.pathname.match(/^\/share/)&&c.length){var e=c[0],a=e.name,n=e.singer,r=e.cover,l=e.album,o=e._id;document.title="".concat(a," - ").concat(n),f({title:a,artist:n,picture:[r],album:l,_id:o})}}),[c]);return r.a.createElement(Q.Provider,{value:{playlist:c,setPlaylist:function(e){i(Pe(e))},setPlaylistRaw:i,audioInfo:d,setAudioInfo:f,player:p}},r.a.createElement(N.a,{className:"main-layout"},r.a.createElement(Te,{className:"header"},r.a.createElement("div",{className:"logo"}),r.a.createElement(_.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["/radio"===t.pathname||t.pathname.match(/^\/share/)?"/player":t.pathname],onSelect:function(t){t.item;var a=t.key;e.push(a)}},r.a.createElement(_.a.Item,{key:"/player"},"Player"),r.a.createElement(_.a.Item,{key:"/library"},"Library"),r.a.createElement(_.a.Item,{key:"/mylist"},"My List"),r.a.createElement(_.a.Item,{key:"/setting"},"Setting"))),r.a.createElement(Ne,{style:{padding:"0 1vw"}},r.a.createElement(T,{exceptions:["share"]},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/library"},r.a.createElement(ae,null)),r.a.createElement(u.a,{path:"/player"},r.a.createElement(fe,null)),r.a.createElement(u.a,{path:"/radio"},r.a.createElement(fe,{radio:!0})),r.a.createElement(u.a,{path:"/share"},r.a.createElement(fe,{share:!0})),r.a.createElement(u.a,{path:"/mylist"},r.a.createElement(xe,null)),r.a.createElement(u.a,{path:"/setting"}),r.a.createElement(u.a,{path:"/admin"},r.a.createElement(T,{rank:"Admin"},r.a.createElement(je,null))),r.a.createElement(u.a,null,r.a.createElement(ae,null)))),r.a.createElement(A.a,{title:"Hello",placement:"right",visible:v,onClose:function(){O(!1)}},r.a.createElement(Ie,null))),r.a.createElement(_e,null,r.a.createElement(Se,{music:c,onTrackChange:function(e,t){var a=t.find((function(t){return t.id===e}));if(a){var n=a.name,r=a.singer,l=a.cover,c=a.album,o=a._id;document.title="".concat(n," - ").concat(r),f({title:n,artist:r,picture:[l],album:c,_id:o})}},getPlayer:function(e){y(e)},onAudioPlay:function(e){if(e){var t=e.name,a=e.singer,n=e.cover,r=e.album,l=e._id;document.title="".concat(t," - ").concat(a),f({title:t,artist:a,picture:[n],album:r,_id:l})}}}))))},Fe=function(){return r.a.createElement("main",null,r.a.createElement(Ae,null))},Re=a(512),Le=function(){var e=Object(u.f)();return r.a.createElement(Re.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement(j.a,{type:"primary",onClick:function(){e.push("/")}},"Back Home")})},Me=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],c=E("GET","/me"),m=Object(o.a)(c,2),d=m[0],f=m[1],y=f.loading,g=f.res,h=f.err;return Object(n.useEffect)((function(){var e=localStorage.getItem("token");e&&d({token:e})}),[]),Object(n.useEffect)((function(){g&&(b.b.success("Successfully logging you in."),l(g.body)),h&&b.b.error("Your session has expired.")}),[g,h]),r.a.createElement(p.a,{spinning:y},r.a.createElement(s.Provider,{value:{user:a,setUser:l}},r.a.createElement(i.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/"},r.a.createElement(Fe,null)),r.a.createElement(u.a,null,r.a.createElement(Le,null))))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a.p+"static/media/note1024.ae6ba5e3.png"}},[[282,1,2]]]);
//# sourceMappingURL=main.ddbadc82.chunk.js.map