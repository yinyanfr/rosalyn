{"version":3,"sources":["serviceWorker.js","AppContext.js","services/useReq.js","components/LoginForm.js","components/Login.js","middlewares/Auth.js","components/MainContext.js","tools/convert-one.js","components/Music/MusicTable.js","components/Music/index.js","components/Radio/RadioMusic.js","components/Radio/index.js","components/Admin/LibraryForm.js","components/Admin/LibraryTable.js","components/Admin/Library.js","components/Admin/index.js","components/Player/index.js","components/Welcome.js","components/Mine/index.js","tools/convert.js","components/Main.js","App.js","404.js","AppRouter.js","index.js","assets/note1024.png"],"names":["Boolean","window","location","hostname","match","AppContext","React","createContext","withParams","uri","params","tail","join","useReq","type","useState","loading","res","setRes","err","setErr","body","query","token","toLowerCase","request","get","set","then","catch","send","layout","labelCol","span","wrapperCol","tailLayout","offset","LoginForm","register","run","setUser","useContext","useEffect","localStorage","setItem","spinning","name","initialValues","remember","onFinish","email","password","username","Item","label","rules","required","message","Password","valuePropName","htmlType","description","JSON","stringify","response","text","TabPane","Tabs","Login","defaultActiveKey","tab","key","ranks","Auth","children","rank","exceptions","user","useLocation","indexOf","outrank","list","e","isExcepted","pathname","split","MainContext","convertOne","music","getItem","title","singer","artist","duration","picture","_id","album","musicSrc","cover","format","data","note1024","momentDurationFormatSetup","moment","MusicTable","setData","allMusic","playlist","setPlaylist","player","setPlaylistRaw","favorite","setFavorite","selectedRowKeys","setSelectedRowKeys","searchText","setSearchText","searchedColumn","setSearchedColumn","favor","rowSelection","onChange","searchInput","length","getColumnSearchProps","dataIndex","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","style","padding","ref","node","placeholder","value","target","onPressEnter","handleSearch","width","marginBottom","display","onClick","icon","SearchOutlined","size","handleReset","filterIcon","filtered","color","undefined","onFilter","record","toString","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","highlightStyle","backgroundColor","searchWords","autoEscapemode","textToHighlight","columns","src","sorter","responsive","PlusOutlined","onCell","appendAudio","_","HeartFilled","HeartOutlined","filter","musicId","DownloadOutlined","dataSource","map","onRow","rowIndex","pagination","filters","field","order","tmp","sort","a","b","String","localeCompare","Content","Layout","Music","getAllMusic","console","log","error","margin","className","minHeight","Title","Typography","RadioMusic","audioInfo","share","getInfo","infoRes","coverImage","setCoverImage","copy","origin","shareId","success","alt","DeleteOutlined","StepForwardOutlined","ShareAltOutlined","Header","Radio","Footer","radio","sample","setAudioInfo","clear","updatePlayIndex","load","l","note2014","Math","random","LibraryForm","add","path","rec","help","TextArea","rows","update","setModal","checked","disabled","index","danger","LibraryTable","getlibs","updateReq","remove","removeReq","modal","onCancel","confirmLoading","onOk","libraryId","okButtonProps","Library","Admin","exact","Player","onTrackChange","getPlayer","onAudioPlay","history","useHistory","glassBg","showMediaSession","audioLists","autoPlay","mode","innerWidth","bottom","right","errMsg","push","currentPlayId","Welcome","Mine","PlayCircleOutlined","convert","Main","getFavorite","favoriteRes","setPlayer","drawer","setDrawer","document","Provider","theme","defaultSelectedKeys","onSelect","item","placement","onClose","find","id","App","FOF","status","subTitle","extra","AppRouter","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.41cec934.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\n\nconst AppContext = React.createContext()\n\nexport default AppContext\n","import { useState } from 'react'\nimport request from \"superagent\"\n\nconst withParams = (uri, params) => {\n    const tail = params.join('/')\n    return `${uri}/${tail}`\n}\n\nconst useReq = (type, uri) => {\n    const [loading, setLoading] = useState(false)\n    const [res, setRes] = useState(null)\n    const [err, setErr] = useState(null)\n\n    const run = ({body, query, params, token} = {}) => {\n        if(type.toLowerCase() === \"get\"){\n            return (\n                request.get(params ? withParams(uri, params) : uri)\n                    .set(\"x-auth\", token ? token : \"\")\n                    .query(query ? query : {})\n                    .then(res => {\n                        setRes(res)\n                        return res\n                    })\n                    .catch(setErr)\n            )\n        }\n        else {\n            return (\n                request[type.toLowerCase()](uri)\n                    .set(\"x-auth\", token ? token : \"\")\n                    .send(body ? body : {})\n                    .then(setRes)\n                    .catch(setErr)\n            )\n        }\n    }\n\n    return [run, {loading, res, err}]\n}\n\nexport default useReq\n","import React, { useState, useEffect, useContext } from 'react'\nimport { Form, Input, Button, Checkbox, Spin, Alert } from 'antd'\nimport useReq from '../services/useReq'\nimport AppContext from '../AppContext'\n\nconst layout = {\n    labelCol: { span: 2 },\n    wrapperCol: { span: 16 },\n}\nconst tailLayout = {\n    wrapperCol: { offset: 2, span: 16 },\n}\n\nconst LoginForm = ({ register }) => {\n\n    const [run, { loading, res, err }] = useReq(\"POST\", (register ? \"/register\" : \"/login\"))\n    const { setUser } = useContext(AppContext)\n\n    const submit = ({ email, password, username }) => {\n        if (!loading) {\n            run({\n                body: { email, password, username }\n            })\n        }\n    }\n\n    useEffect(() => {\n        if (res?.body?.token) {\n            localStorage.setItem(\"token\", res.body.token)\n            setUser(res.body)\n        }\n    }, [res])\n\n    return (\n        <Spin spinning={loading}>\n            <Form\n                {...layout}\n                name=\"login\"\n                initialValues={{ remember: true }}\n                onFinish={submit}\n            >\n                <Form.Item\n                    label=\"Email\"\n                    name=\"email\"\n                    rules={[{ required: true, message: 'Please input your email!' }]}\n                >\n                    <Input />\n                </Form.Item>\n\n                <Form.Item\n                    label=\"Password\"\n                    name=\"password\"\n                    rules={[{ required: true, message: 'Please input your password!' }]}\n                >\n                    <Input.Password />\n                </Form.Item>\n\n                {\n                    register\n                        ? (\n                            <Form.Item\n                                label=\"Username\"\n                                name=\"username\"\n                            >\n                                <Input />\n                            </Form.Item>\n\n                        )\n                        : (\n                            <Form.Item name=\"remember\" valuePropName=\"checked\" {...tailLayout}>\n                                <Checkbox>Remember me</Checkbox>\n                            </Form.Item>\n                        )\n                }\n\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Submit\n                    </Button>\n                </Form.Item>\n            </Form>\n            {\n                err\n                    ? (\n                        <Alert\n                            message=\"Failed\"\n                            description={JSON.stringify(err.response?.text)}\n                            type=\"error\"\n                        />\n                    )\n                    : \"\"\n            }\n        </Spin>\n    )\n}\n\nexport default LoginForm\n","import React, { useState } from 'react'\nimport { Tabs } from 'antd'\nimport LoginForm from './LoginForm'\n\nconst { TabPane } = Tabs\n\nconst Login = () => {\n\n    return (\n        <Tabs defaultActiveKey=\"1\">\n            <TabPane tab=\"Login\" key=\"1\">\n                <LoginForm />\n            </TabPane>\n            <TabPane tab=\"Register\" key=\"2\">\n                <LoginForm register />\n            </TabPane>\n        </Tabs>\n    )\n}\n\nexport default Login\n","import React, { useContext } from 'react'\nimport AppContext from '../AppContext'\nimport Login from '../components/Login'\nimport {Alert} from \"antd\"\nimport {useLocation} from \"react-router-dom\"\n\nconst ranks = [\n    \"Guest\",\n    \"User\",\n    \"Uploader\",\n    \"Moderator\",\n    \"Admin\"\n]\n\nconst outrank = (user, rank) => ranks.indexOf(user.rank) >= ranks.indexOf(rank)\n\nconst isExcepted = (list, exceptions) => {\n    for(let e of list){\n        if(exceptions.indexOf(e) > -1){\n            return true\n        }\n    }\n    return false\n}\n\nconst Auth = ({children, rank=\"User\", exceptions=[]}) => {\n    const {user} = useContext(AppContext)\n\n    const location = useLocation()\n    \n    return (\n        user\n        ? (\n            outrank(user, rank)\n            ? children\n            : <Alert \n                message=\"Unauthorized\"\n                description={`Viewing this page requires a ${rank} or higher rank.`}\n                type=\"error\"\n            />\n        )\n        : (\n            isExcepted(location.pathname.split(\"/\"), exceptions)\n            ? children\n            : <Login />\n        )\n    )\n}\n\nexport default Auth\n","import React from 'react'\n\nconst MainContext = React.createContext()\n\nexport default MainContext\n","import note1024 from \"../assets/note1024.png\"\n\nconst convertOne = (music) => {\n    const token = localStorage.getItem(\"token\")\n    const {\n        title: name,\n        artist: singer,\n        duration, picture,\n        _id,\n        album,\n        musicSrc\n    } = music\n    return {\n        name, singer, duration,\n        cover: picture[0] ? `data:${picture[0].format};base64,${picture[0].data}` : note1024,\n        musicSrc: `/music/download/${token}/${_id}`,\n        album,\n        _id,\n    }\n}\n\nexport default convertOne\n","import React, { useState, useEffect, useContext } from 'react'\nimport { Table, Input, Button, Space, message, Avatar } from 'antd'\nimport Highlighter from 'react-highlight-words'\nimport { SearchOutlined, CaretRightOutlined, PlusOutlined, HeartOutlined, HeartFilled, DownloadOutlined, ProfileOutlined } from '@ant-design/icons'\nimport useReq from '../../services/useReq'\nimport moment from \"moment\"\nimport momentDurationFormatSetup from \"moment-duration-format\"\nimport note1024 from \"../../assets/note1024.png\"\nimport MainContext from '../MainContext'\nimport convertOne from '../../tools/convert-one'\n\nmomentDurationFormatSetup(moment)\n\nconst MusicTable = ({data, setData, allMusic, loading}) => {\n    const {\n        playlist, setPlaylist, setPlaylistRaw,\n        player, favorite, setFavorite,\n    } = useContext(MainContext)\n\n    const [selectedRowKeys, setSelectedRowKeys] = useState([])\n    const [searchText, setSearchText] = useState(\"\")\n    const [searchedColumn, setSearchedColumn] = useState(\"\")\n\n    const [favor] = useReq(\"POST\", \"/music/taste\")\n\n    let playNow = false\n\n    // useEffect(() => {\n    //     if(player && playNow){\n    //         if(playlist.length > 1){\n    //             player.playNext()\n    //         }\n    //         else {\n    //             player.play()\n    //         }\n    //     }\n    // }, [playlist])\n\n    const start = () => {\n        setTimeout(() => {\n            setSelectedRowKeys([])\n        }, 1000);\n    }\n\n    const onSelectChange = selectedRowKeys => {\n        setSelectedRowKeys(selectedRowKeys)\n    }\n\n    const rowSelection = {\n        selectedRowKeys,\n        onChange: onSelectChange,\n    }\n\n    const hasSelected = selectedRowKeys.length > 0\n\n    const handleChange = (pagination, filters, sorter) => {\n        const { field, order } = sorter\n        setData(data => {\n            if (!order) {\n                return allMusic?.body\n            }\n\n            let tmp = [...data]\n            tmp.sort((a, b) => {\n                if (order === \"ascend\") {\n                    return String(a[field]).localeCompare(String(b[field]))\n                }\n                else {\n                    return String(b[field]).localeCompare(String(a[field]))\n                }\n            })\n            return tmp\n        })\n    }\n\n    let searchInput = \"\"\n\n    const getColumnSearchProps = dataIndex => ({\n        filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n            <div style={{ padding: 8 }}>\n                <Input\n                    ref={node => {\n                        searchInput = node;\n                    }}\n                    placeholder={`Search ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n                    onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\n                    style={{ width: 188, marginBottom: 8, display: 'block' }}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\n                        icon={<SearchOutlined />}\n                        size=\"small\"\n                        style={{ width: 90 }}\n                    >\n                        Search\n                    </Button>\n                    <Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n                        Reset\n                    </Button>\n                </Space>\n            </div>\n        ),\n        filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n        onFilter: (value, record) =>\n            record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\n        onFilterDropdownVisibleChange: visible => {\n            if (visible) {\n                setTimeout(() => searchInput.select());\n            }\n        },\n        render: text =>\n            searchedColumn === dataIndex ? (\n                <Highlighter\n                    highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n                    searchWords={[searchText]}\n                    autoEscapemode\n                    textToHighlight={text.toString()}\n                />\n            ) : (\n                    text\n                ),\n    })\n\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\n        confirm();\n        setSearchText(selectedKeys[0])\n        setSearchedColumn(dataIndex)\n    }\n\n    const handleReset = clearFilters => {\n        clearFilters();\n        setSearchText(\"\")\n    }\n\n    const columns = [\n        {\n            dataIndex: \"picture\", key: \"picture\",\n            render: (picture) => (\n                <Avatar src={\n                    picture.length\n                        ? `data:${picture[0].format};base64,${picture[0].data}`\n                        : note1024\n                } />\n            )\n        },\n        {\n            title: \"Title\", dataIndex: \"title\", key: \"title\",\n            sorter: true,\n            ...getColumnSearchProps(\"title\")\n        },\n        {\n            title: \"Artist\", dataIndex: \"artist\", key: \"artist\",\n            sorter: true,\n            ...getColumnSearchProps(\"artist\"),\n            responsive: [\"md\", \"lg\"]\n        },\n        {\n            title: \"Album\", dataIndex: \"album\", key: \"album\",\n            sorter: true,\n            ...getColumnSearchProps(\"album\"),\n            responsive: [\"lg\"]\n        },\n        {\n            title: \"Duration\", dataIndex: \"duration\", key: \"duration\",\n            render: duration => moment.duration(duration, \"seconds\").format(\"mm:ss\"),\n            responsive: [\"md\", \"lg\"]\n        },\n        // {\n        //     key: \"play\",\n        //     render: () => (\n        //         <CaretRightOutlined />\n        //     ),\n        //     onCell: record => ({\n        //         onClick: () => {\n        //             playNow = true\n        //             player.clear()\n        //             setPlaylist(playlist => ([\n        //                 record,\n        //                 ...playlist,\n        //             ]))\n        //         }\n        //     })\n        // },\n        {\n            key: \"add_to_playlist\",\n            render: () => (\n                <PlusOutlined />\n            ),\n            onCell: (record) => ({\n                onClick: () => {\n                    if(playlist.length){\n                        player.appendAudio(playlist.length, [convertOne(record)])\n                    }\n                    else {\n                        setPlaylist([record])\n                    }\n                }\n            })\n        },\n        {\n            key: \"favor\",\n            render: (_, record) => (\n                favorite?.includes(record._id)\n                ? <HeartFilled />\n                : <HeartOutlined />\n            ),\n            onCell: (record) => ({\n                onClick: () => {\n                    const token = localStorage.getItem(\"token\")\n                    if(favorite?.includes(record._id)) {\n                        setFavorite(favorite => favorite.filter(e => e !== record._id))\n                    }\n                    else {\n                        setFavorite(favorite => ([\n                            ...favorite, record._id,\n                        ]))\n                    }\n                    favor({\n                        token,\n                        body: {\n                            musicId: record._id,\n                            favor: true\n                        }\n                    })\n                }\n            })\n        },\n        {\n            key: \"download\",\n            render: () => (\n                <DownloadOutlined />\n            ),\n            responsive: [\"md\", \"lg\"]\n        },\n    ]\n\n    return (\n        data\n            ? (\n                <>\n                    <Table\n                        rowSelection={rowSelection}\n                        columns={columns}\n                        dataSource={data.map(e => ({ ...e, key: e._id }))}\n                        onRow={(record, rowIndex) => {\n                            // console.log({ record, rowIndex })\n                        }}\n                        onChange={handleChange}\n                        loading={loading}\n                        size=\"small\"\n                    />\n                </>\n            )\n            : \"\"\n    )\n}\n\n\n\nexport default MusicTable","import React, { useState, useEffect } from 'react'\nimport MusicTable from './MusicTable'\nimport { Layout, Breadcrumb, message } from 'antd'\nimport useReq from '../../services/useReq'\n\nconst { Content } = Layout\n\nconst Music = () => {\n\n    const [getAllMusic, { loading, res: allMusic, err }] = useReq(\"GET\", \"/music/all\")\n    const [data, setData] = useState(allMusic?.body)\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        getAllMusic({ token })\n    }, [])\n\n    useEffect(() => {\n        if (allMusic) setData(allMusic.body)\n        if (err) {\n            console.log(err)\n            message.error(\"Failed to load music.\")\n        }\n    }, [allMusic, err])\n\n    return (\n        <section>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n                <Breadcrumb.Item>Library</Breadcrumb.Item>\n            </Breadcrumb>\n            <Layout className=\"site-layout-background\">\n                <Content style={{ minHeight: 280 }}>\n                    <MusicTable\n                        data={data}\n                        setData={setData}\n                        allMusic={allMusic}\n                        loading={loading}\n                    />\n                </Content>\n            </Layout>\n        </section>\n    )\n}\n\nexport default Music\n","import React, { useState, useEffect, useContext } from 'react'\nimport { Typography, Alert, message } from \"antd\"\nimport {\n    HeartFilled, HeartOutlined,\n    DeleteOutlined,\n    StepForwardOutlined,\n    ShareAltOutlined\n} from \"@ant-design/icons\"\nimport useReq from '../../services/useReq'\nimport copy from 'copy-to-clipboard'\nimport MainContext from '../MainContext'\n\nconst { Title } = Typography\n\nconst RadioMusic = ({ audioInfo }) => {\n    const {\n        title, artist, album, picture, _id\n    } = audioInfo\n\n    const [share, { loading, res, err }] = useReq(\"POST\", \"/music/share\")\n    const [favor] = useReq(\"POST\", \"/music/taste\")\n    const [getInfo, {res: infoRes}] = useReq(\"GET\", \"/music/info\")\n    const [coverImage, setCoverImage] = useState(picture)\n\n    const {favorite, setFavorite} = useContext(MainContext)\n\n    useEffect(() => {\n        if (res) {\n            copy(`${window.location.origin}/share/${res.body?.shareId}`)\n            message.success(\"Link copied to copyboard\")\n        }\n        if(err){\n            message.error(\"Failed to generate share link.\")\n        }\n    }, [res, err])\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        getInfo({token, params: [_id]})\n    }, [_id])\n\n    useEffect(() => {\n        if(infoRes?.body?.picture?.length) {\n            console.log(\"fucking rendered\")\n            if(infoRes.body.picture[0]?.data) {\n                setCoverImage(`data:image/jpeg;base64,${infoRes.body.picture[0].data}`)\n            }\n            \n        }\n    }, [infoRes])\n\n    return (\n        <article className=\"single-music\">\n            <div className=\"music-icon\">\n                <img\n                    className=\"music-icon-image\"\n                    alt=\"cover\"\n                    src={coverImage}\n                />\n            </div>\n            <div className=\"music-info\">\n                <div className=\"music-info-group\">\n                    <Title>{title}</Title>\n                    <p className=\"font-150\">{artist}</p>\n                    <p>{album}</p>\n                </div>\n                <div className=\"music-favor\">\n                    <div\n                        onClick={() => {\n                            const token = localStorage.getItem(\"token\")\n                            if(favorite?.includes(_id)) {\n                                setFavorite(favorite => favorite.filter(e => e !== _id))\n                            }\n                            else {\n                                setFavorite(favorite => ([\n                                    ...favorite, _id,\n                                ]))\n                            }\n                            favor({\n                                token,\n                                body: {\n                                    musicId: _id,\n                                    favor: true\n                                }\n                            })\n                        }}\n                    >\n                        {\n                            favorite?.includes(_id)\n                            ? <HeartFilled />\n                            : <HeartOutlined />\n                        }\n                    </div>\n                    <div>\n                        <DeleteOutlined />\n                    </div>\n                    <div>\n                        <StepForwardOutlined />\n                    </div>\n                    <div\n                        onClick={() => {\n                            const token = localStorage.getItem(\"token\")\n                            share({\n                                body: {\n                                    musicId: _id\n                                },\n                                token\n                            })\n                        }}\n                    >\n                        <ShareAltOutlined />\n                    </div>\n                </div>\n            </div>\n        </article>\n    )\n}\n\nexport default RadioMusic\n","import React, { useState, useEffect, useContext } from 'react'\nimport \"./radio.scss\"\nimport { Layout, Breadcrumb, Spin, message, Empty, Button } from 'antd'\nimport RadioMusic from './RadioMusic'\nimport useReq from '../../services/useReq'\nimport MainContext from '../MainContext'\nimport note2014 from \"../../assets/note1024.png\"\nimport { useLocation } from \"react-router-dom\"\nimport request from \"superagent\"\n\nconst { Header, Content, Footer } = Layout\n\nconst Radio = ({ radio, share }) => {\n    const [sample, { loading, res, err }] = useReq(\"GET\", \"/music/sample\")\n\n    const {\n        playlist, setPlaylist, setPlaylistRaw,\n        audioInfo, setAudioInfo,\n        player,\n    } = useContext(MainContext)\n\n    const location = useLocation()\n\n\n    useEffect(() => {\n        if (radio) {\n            const token = localStorage.getItem(\"token\")\n            player.clear()\n            sample({ params: [20], token })\n                .then(() => {\n                    player.updatePlayIndex(0)\n                    player.load()\n                })\n        }\n    }, [radio])\n\n    useEffect(() => {\n        if (share && player) {\n            const l = location.pathname.split(\"/\")\n            const shareId = l[l.length - 1]\n            request.get(`/music/share/${shareId}`)\n                .then(res => {\n                    const {\n                        title: name,\n                        artist: singer,\n                        duration, picture,\n                        _id,\n                        album\n                    } = res.body\n                    setPlaylistRaw([{\n                        name, singer, duration,\n                        cover: picture[0] ? `data:${picture[0].format};base64,${picture[0].data}` : note2014,\n                        musicSrc: `/music/shared_file/${shareId}`,\n                        album,\n                        _id,\n                    }])\n                })\n                .catch(err => {\n                    console.log(err)\n                    message.error(\"Failed to load music.\")\n                })\n        }\n\n    }, [share, player])\n\n    useEffect(() => {\n        if (res) {\n            let tmp = [...res.body]\n            tmp.sort(() => Math.random() - 0.5)\n            setPlaylist(tmp)\n            setAudioInfo({\n                ...tmp[0],\n                picture: tmp[0].picture[0] ? `data:${tmp[0].picture[0].format};base64,${tmp[0].picture[0].data}` : note2014\n            })\n        }\n        if (err) {\n            message.error(\"Failed to get playlist\")\n        }\n    }, [res, err])\n\n\n    return (\n        <section>\n            {\n                <div className=\"desktop-only\">\n                    <Breadcrumb style={{ margin: '16px 0' }}>\n                        <Breadcrumb.Item>Radio</Breadcrumb.Item>\n                    </Breadcrumb>\n                </div>\n            }\n            <Spin spinning={loading}>\n                <Layout className=\"site-layout-background\">\n                    <Content style={{ minHeight: 280 }}>\n                        {\n                            audioInfo\n                                ? <RadioMusic audioInfo={audioInfo} />\n                                : (\n                                    <Empty\n                                        description={\n                                            <span>Nothing is playing</span>\n                                        }\n                                    >\n                                        <Button\n                                            type=\"primary\"\n                                            onClick={() => {\n                                                const token = localStorage.getItem(\"token\")\n                                                player.clear()\n                                                sample({ params: [20], token })\n                                                    .then(() => {\n                                                        player.updatePlayIndex(0)\n                                                        player.load()\n                                                    })\n\n                                            }}\n                                        >\n                                            Open Radio\n                                        </Button>\n                                    </Empty>\n                                )\n                        }\n                    </Content>\n                </Layout>\n            </Spin>\n        </section>\n    )\n}\n\nexport default Radio\n","import React, { useState, useEffect } from 'react'\nimport { Form, Input, Button, Checkbox, Spin, message } from 'antd'\nimport useReq from '../../services/useReq'\n\nconst layout = {\n    labelCol: { span: 2 },\n    wrapperCol: { span: 16 },\n}\nconst tailLayout = {\n    wrapperCol: { offset: 2, span: 16 },\n}\n\nconst LibraryForm = () => {\n\n    const [add, { loading, res, err }] = useReq(\"POST\", \"/library/add\")\n\n    const addDir = ({ path, rec, name, description }) => {\n        const token = localStorage.getItem(\"token\")\n        add({\n            body: { path, rec, name, description },\n            token,\n        })\n    }\n\n    useEffect(() => {\n        if(res) message.success(\"Successfully added a repository\")\n        if(err) message.error(\"Failed to add this repostory.\")\n    }, [res, err])\n\n\n    return (\n        <Spin spinning={loading}>\n            <Form\n                {...layout}\n                name=\"add_dir\"\n                onFinish={addDir}\n            >\n                <Form.Item\n                    label=\"Path\"\n                    name=\"path\"\n                    rules={[{ required: true, message: 'Please input your email!' }]}\n                    help=\"Absolute path of the repository that contains music files on your SERVER.\"\n                >\n                    <Input />\n                </Form.Item>\n\n                <Form.Item name=\"rec\" valuePropName=\"checked\" {...tailLayout}>\n                    <Checkbox>including children repos</Checkbox>\n                </Form.Item>\n\n                <Form.Item\n                    label=\"Name\"\n                    name=\"name\"\n                >\n                    <Input />\n                </Form.Item>\n\n                <Form.Item\n                    label=\"Description\"\n                    name=\"description\"\n                >\n                    <Input.TextArea rows={10} />\n                </Form.Item>\n\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Add Library\n                    </Button>\n                </Form.Item>\n\n            </Form>\n        </Spin>\n    )\n}\n\nexport default LibraryForm\n","import React, { useState, useEffect } from 'react'\nimport { Table, Button, Spin, message, Empty, Checkbox, Modal } from 'antd'\nimport useReq from '../../services/useReq'\nimport moment from \"moment\"\n\nconst token = localStorage.getItem(\"token\")\n\nconst columns = (update, setModal) => ([\n    {\n        title: \"Path\", dataIndex: \"path\", key: \"path\",\n    },\n    {\n        title: \"Name\", dataIndex: \"name\", key: \"name\",\n    },\n    {\n        title: \"Rec\", dataIndex: \"rec\", key: \"rec\",\n        render: value => <Checkbox checked={value} disabled />\n    },\n    {\n        title: \"Count\", dataIndex: \"count\", key: \"count\",\n    },\n    {\n        title: \"Last Modified\", dataIndex: \"lastModified\", key: \"lastModified\",\n        render: value => moment(value).format(\"lll\")\n    },\n    {\n        title: \"Actions\", dataIndex: \"actions\", key: \"actions\",\n        render: (text, record, index) => (\n            <>\n                <Button\n                    type=\"primary\"\n                    onClick={() => {\n                        update({ body: { path: record.path }, token })\n                    }}\n                >\n                    Update\n                </Button>\n\n                <Button\n                    danger\n                    onClick={() => {\n                        setModal(record._id)\n                    }}\n                >\n                    Remove\n                </Button>\n            </>\n        )\n    }\n])\n\nconst LibraryTable = () => {\n    const [getlibs, { res }] = useReq('GET', \"/library/all\")\n    const [update, updateReq] = useReq(\"POST\", \"/library/add\")\n    const [remove, removeReq] = useReq(\"DELETE\", \"/library/remove\")\n    const [modal, setModal] = useState(false)\n\n    console.log(res)\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        getlibs({ token })\n    }, [])\n\n    useEffect(() => {\n        if (updateReq.res) message.success(\"Successfully updated your library.\")\n        if (removeReq.res) message.success(\"Successfully removed your library.\")\n        if (updateReq.err) message.error(\"Failed to update your library.\")\n        if (removeReq.err) message.error(\"Failed to remove your library.\")\n    }, [updateReq, removeReq])\n\n    return (\n        <>\n            <Spin spinning={updateReq?.loading || removeReq?.loading}>\n                <Table\n                    // title=\"Libraries\"\n                    columns={columns(update, setModal)}\n                    dataSource={res?.body.map(e => ({ ...e, key: e._id }))}\n                />\n            </Spin>\n            <Modal\n                title=\"confirm\"\n                visible={modal}\n                onCancel={() => {\n                    setModal(false)\n                }}\n                confirmLoading={removeReq.loading}\n                onOk={() => {\n                    remove({ body: { libraryId: modal }, token })\n                }}\n                okButtonProps={{ danger: true }}\n            >\n                <p>This operation is irreversable and is going to remove all music added with this repo.</p>\n            </Modal>\n        </>\n    )\n}\n\nexport default LibraryTable\n","import React from 'react'\nimport LibraryForm from './LibraryForm'\nimport LibraryTable from './LibraryTable'\n\nconst Library = () => {\n\n    return (\n        <div>\n            <h1>Library Repositories Management</h1>\n            <LibraryForm />\n            <LibraryTable />\n        </div>\n    )\n}\n\nexport default Library\n","import React from 'react'\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\nimport Library from './Library'\n\nconst Admin = () => {\n\n    return (\n        <Router>\n            <Route exact path=\"/admin/library\">\n                <Library />\n            </Route>\n        </Router>\n    )\n}\n\nexport default Admin\n","import React, { useState, useEffect, useContext } from 'react'\nimport ReactJkMusicPlayer from \"react-jinke-music-player\"\nimport \"react-jinke-music-player/assets/index.css\"\nimport { message } from \"antd\"\nimport note1024 from \"../../assets/note1024.png\"\nimport {useHistory} from \"react-router-dom\"\n\nconst Player = ({\n    music, onTrackChange, getPlayer, onAudioPlay\n}) => {\n\n    const history = useHistory()\n\n    return (\n        <ReactJkMusicPlayer\n            glassBg\n            showMediaSession\n            audioLists={music}\n            // remember={true}\n            autoPlay={false}\n            mode={window.innerWidth < 720 ? \"mini\" : \"full\"}\n            // mode={music.length ? \"full\" : \"mini\"}\n            mode=\"full\"\n            showReload={false}\n            showLyric\n            showDownload={false}\n            spaceBar\n            showThemeSwitch={false}\n            defaultPosition={{ bottom: 20, right: 10 }}\n            onAudioPlayTrackChange={\n                onTrackChange\n                    ? onTrackChange\n                    : () => { }\n            }\n            onAudioError={(errMsg) => {\n                message.error(\"audio error\")\n                console.log(errMsg)\n            }}\n            getAudioInstance={getPlayer}\n            onAudioPlay={onAudioPlay}\n            onCoverClick={() => {\n                history.push(\"/player\")\n            }}\n            onAudioListsChange={(currentPlayId,audioLists,audioInfo) => {\n                console.log(audioLists)\n                console.log(audioInfo)\n            }}\n        />\n    )\n}\n\nexport default Player\n","import React from 'react'\nimport { Button } from 'antd'\n\nconst Welcome = () => {\n\n    return (\n        <div>\n            <p>This is a preview version of Rosalyn WebClient.</p>\n            <p>In short,</p>\n            <h1>What works :</h1>\n            <dl>\n                <dd>User system</dd>\n                <dd>Basic music player</dd>\n                <dd>Radio (random play)</dd>\n            </dl>\n            <h1>What doesn't work yet:</h1>\n            <dl>\n                <dd>Memorized playlist</dd>\n                <dd>Favor and playlist</dd>\n                <dd>Comment</dd>\n                <dd>Preference</dd>\n                <dd>Upload your own music</dd>\n                <dd>etc.</dd>\n            </dl>\n\n            <p>You may also encounter random bugs, please report them to me if you feel like doing it.</p>\n            <p>You know how to contact me.</p>\n\n            <p>There is a ghost bug when adding new songs to playlist, while url is correct, il does not load the audio file.</p>\n\n            <Button\n                type=\"primary\"\n                onClick={() => {\n                    localStorage.setItem(\"welcomed\", \"a\")\n                }}\n            >\n                Understandable\n            </Button>\n        </div>\n    )\n}\n\nexport default Welcome\n","import React, { useState, useEffect, useContext } from 'react'\nimport { Empty, Avatar, message } from 'antd'\nimport { PlayCircleOutlined } from '@ant-design/icons'\nimport \"./Mine.scss\"\nimport { useHistory } from \"react-router-dom\"\nimport useReq from '../../services/useReq'\nimport MusicTable from '../Music/MusicTable'\nimport MainContext from '../MainContext'\n\n\nconst Mine = () => {\n\n    const history = useHistory()\n\n    const { favorite } = useContext(MainContext)\n\n    const [getAllMusic, { loading, res: allMusic, err }] = useReq(\"GET\", \"/music/infos\")\n    const [data, setData] = useState(allMusic?.body)\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        if (favorite) {\n            getAllMusic({ token, params: [JSON.stringify(favorite)] })\n        }\n    }, [favorite])\n\n    useEffect(() => {\n        if (allMusic) setData(allMusic.body)\n        if (err) {\n            console.log(err)\n            message.error(\"Failed to load music.\")\n        }\n    }, [allMusic, err])\n\n    return (\n        <div>\n            <h1>Shortcuts</h1>\n            <div className=\"shortcuts\">\n                <div\n                    className=\"shortcut-group\"\n                    onClick={() => {\n                        history.push(\"/radio\")\n                    }}\n                >\n                    <Avatar size={100} icon={<PlayCircleOutlined />} />\n                    <p>Radio</p>\n                </div>\n            </div>\n            <h1>My favorates</h1>\n            <MusicTable\n                data={data}\n                setData={setData}\n                allMusic={allMusic}\n                loading={loading}\n            />\n        </div>\n    )\n}\n\nexport default Mine\n","import note1024 from \"../assets/note1024.png\"\n\nconst convert = (music) => {\n    const token = localStorage.getItem(\"token\")\n    return music.map(({\n        title: name,\n        artist: singer,\n        duration, picture,\n        _id,\n        album,\n        musicSrc\n    }) => ({\n        name, singer, duration,\n        cover: picture[0] ? `data:${picture[0].format};base64,${picture[0].data}` : note1024,\n        musicSrc: `/music/download/${token}/${_id}`,\n        album,\n        _id,\n    }))\n}\n\nexport default convert\n","import React, { useState, useEffect } from 'react'\n\nimport { Layout, Menu, Drawer } from 'antd'\nimport Music from './Music'\nimport Radio from \"./Radio\"\nimport \"./Main.scss\"\nimport { Route, Switch, useHistory, useLocation } from 'react-router-dom'\nimport Auth from \"../middlewares/Auth\"\nimport Admin from \"./Admin\"\nimport MainContext from \"./MainContext\"\nimport Player from './Player'\nimport Welcome from './Welcome'\nimport Mine from './Mine'\nimport convert from \"../tools/convert\"\nimport useReq from '../services/useReq'\n\nconst { Header, Content, Footer } = Layout\n\nconst Main = () => {\n\n    const history = useHistory()\n    const location = useLocation()\n\n    const stored = localStorage.getItem(\"playlist\")\n\n    const [playlist, setPlaylistRaw] = useState(\n        // stored ? JSON.parse(stored) : []\n        []\n    )\n\n    const [getFavorite, { res: favoriteRes }] = useReq(\"GET\", \"/music/favorite\")\n    const [favorite, setFavorite] = useState([])\n\n    const setPlaylist = music => {\n        setPlaylistRaw(convert(music))\n    }\n\n    const [audioInfo, setAudioInfo] = useState(null)\n    const [player, setPlayer] = useState(null)\n\n    const [drawer, setDrawer] = useState(false)\n\n    const onTrackChange = (currentPlayId, audioLists) => {\n        let audioInfo = audioLists.find(e => e.id === currentPlayId)\n        if (audioInfo) {\n            const { name, singer, cover, album, _id } = audioInfo\n            document.title = `${name} - ${singer}`\n            setAudioInfo({\n                title: name,\n                artist: singer,\n                picture: [cover],\n                album,\n                _id,\n            })\n        }\n    }\n\n    useEffect(() => {\n        if (location.pathname.match(/^\\/share/) && playlist.length) {\n            const { name, singer, cover, album, _id } = playlist[0]\n            document.title = `${name} - ${singer}`\n            setAudioInfo({\n                title: name,\n                artist: singer,\n                picture: [cover],\n                album,\n                _id,\n            })\n        }\n    }, [playlist])\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        getFavorite({ token })\n    }, [])\n\n    useEffect(() => {\n        setFavorite(favoriteRes?.body)\n    }, [favoriteRes])\n\n    const onAudioPlay = (audioInfo) => {\n        if (audioInfo) {\n            const { name, singer, cover, album, _id } = audioInfo\n            document.title = `${name} - ${singer}`\n            setAudioInfo({\n                title: name,\n                artist: singer,\n                picture: [cover],\n                album,\n                _id,\n            })\n        }\n    }\n\n    return (\n        <MainContext.Provider value={{\n            playlist, setPlaylist, setPlaylistRaw,\n            audioInfo, setAudioInfo,\n            player, favorite, setFavorite,\n        }}>\n            <Layout className=\"main-layout\">\n                <Header className=\"header\">\n                    {/* <div className=\"logo\">Hi</div> */}\n                    <div className=\"logo\" />\n                    <Menu\n                        theme=\"dark\"\n                        mode=\"horizontal\"\n                        defaultSelectedKeys={[\n                            location.pathname === \"/radio\" || location.pathname.match(/^\\/share/)\n                                ? \"/player\"\n                                : location.pathname\n                        ]}\n                        onSelect={({ item, key }) => {\n                            history.push(key)\n                        }}\n                    >\n                        <Menu.Item key=\"/player\">Player</Menu.Item>\n                        <Menu.Item key=\"/library\">Library</Menu.Item>\n                        <Menu.Item key=\"/mylist\">My List</Menu.Item>\n                        <Menu.Item key=\"/setting\">Setting</Menu.Item>\n                    </Menu>\n                </Header>\n                <Content style={{ padding: '0 1vw' }}>\n                    <Auth exceptions={[\"share\"]}>\n                        <Switch>\n                            <Route path=\"/library\">\n                                <Music />\n                            </Route>\n\n                            <Route path=\"/player\">\n                                <Radio />\n                            </Route>\n\n                            <Route path=\"/radio\">\n                                <Radio radio />\n                            </Route>\n\n                            <Route path=\"/share\">\n                                <Radio share />\n                            </Route>\n\n                            <Route path=\"/mylist\">\n                                <Mine />\n                            </Route>\n\n                            <Route path=\"/setting\">\n\n                            </Route>\n\n                            <Route path=\"/admin\">\n                                <Auth rank=\"Admin\">\n                                    <Admin />\n                                </Auth>\n                            </Route>\n\n                            <Route>\n                                <Music />\n                            </Route>\n                        </Switch>\n                    </Auth>\n\n                    <Drawer\n                        title=\"Hello\"\n                        placement=\"right\"\n                        visible={drawer}\n                        onClose={() => {\n                            setDrawer(false)\n                        }}\n                    >\n                        <Welcome />\n                    </Drawer>\n                </Content>\n                <Footer>\n                    <Player\n                        music={playlist}\n                        onTrackChange={onTrackChange}\n                        getPlayer={player => {\n                            setPlayer(player)\n                        }}\n                        onAudioPlay={onAudioPlay}\n                    />\n                </Footer>\n\n            </Layout>\n        </MainContext.Provider>\n    )\n}\n\nexport default Main\n","import React from 'react'\nimport Main from './components/Main'\n\nconst App = () => {\n  return (\n    <main>\n      <Main />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport { Result, Button } from 'antd'\nimport { useHistory } from \"react-router-dom\"\n\nconst FOF = () => {\n    const history = useHistory()\n\n    return (\n        <Result\n            status=\"404\"\n            title=\"404\"\n            subTitle=\"Sorry, the page you visited does not exist.\"\n            extra={<Button type=\"primary\" onClick={() => {\n                history.push(\"/\")\n            }}>Back Home</Button>}\n        />\n    )\n}\n\nexport default FOF\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport AppContext from './AppContext'\nimport useReq from './services/useReq'\nimport { message, Spin } from \"antd\"\nimport Auth from './middlewares/Auth'\nimport App from './App'\nimport Admin from './components/Admin'\nimport FOF from './404'\nimport Music from './components/Music'\n\nconst AppRouter = () => {\n\n    const [user, setUser] = useState(null)\n    const [run, { loading, res, err }] = useReq(\"GET\", \"/me\")\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\")\n        if (token) {\n            run({ token })\n            // .then(res => {\n            //     setUser(res.body)\n            // })\n        }\n    }, [])\n\n    useEffect(() => {\n        if (res) {\n            message.success(\"Successfully logging you in.\")\n            setUser(res.body)\n        }\n        if (err) {\n            message.error(\"Your session has expired.\")\n        }\n    }, [res, err])\n\n    return (\n        <Spin spinning={loading}>\n            <AppContext.Provider value={\n                {\n                    user, setUser,\n                }\n            }>\n                <Router>\n                    <Switch>\n                        <Route path=\"/\">\n                            <App />\n                        </Route>\n\n                        <Route>\n                            <FOF />\n                        </Route>\n                    </Switch>\n                </Router>\n            </AppContext.Provider>\n        </Spin>\n    )\n}\n\nexport default AppRouter\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'antd/dist/antd.css'\nimport './index.css'\nimport './App.scss'\nimport * as serviceWorker from './serviceWorker'\nimport AppRouter from './AppRouter'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppRouter />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/note1024.ae6ba5e3.png\";"],"sourceRoot":""}